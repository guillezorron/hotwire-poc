<div data-controller="colors", data-colors-target="heading">

  <p id="notice"><%= notice %></p>

  <div class="title">
    <div> </div>
    <h1>Best Tweeter PoC of the world</h1>
    <div class="btn btn-primary", data-action="click->colors#change", data-colors-target="button">Switch to dark!</div>
  </div>

  <%= turbo_frame_tag 'new_tweet', src: new_tweet_path(@tweet) do %>
    <%= link_to 'New Tweet', new_tweet_path %>
  <% end %>

  <table class='table-container'>
    <thead>
      <tr>
        <th class='bodyHeader'>Body</th>
        <th class='tableHeader'>Likes</th>
        <th class='tableHeader'>Retweets</th>
        <th colspan="4"></th>
      </tr>
    </thead>

    <%= turbo_stream_from @tweet %>
    
    <%= puts @tweet %>

    <tbody>
        <% @tweets.each do |tweet| %>
          <%= turbo_frame_tag dom_id(tweet) do%>
            <tr data-controller="clipboard" class='tweet-container'>
              <td class='bodyItem' input data-clipboard-target="source" ><%= tweet.body %></td>
              <td class='tableItem'><%= tweet.likes %></td>
              <td class='tableItem'><%= tweet.retweets %></td>
              <td class='tableItem'><%= link_to 'Show', tweet %></td>
              <td class='tableItem'><%= link_to 'Edit', edit_tweet_path(tweet) %></td>
              <td class='tableItem'><%= link_to 'Destroy', tweet, method: :delete, data: { confirm: 'Are you sure?' } %></td>
              <td class='tableItem'><a href="#" data-action="clipboard#copy" >Copy to Clipboard</a></td>
            </tr>
          <% end %>
        <% end %>
    </tbody>
  </table>

  <%= turbo_frame_tag "tweets" do %>
    <% render @tweets %>
  <% end %>
</div>
